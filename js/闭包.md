# 闭包
> **闭包**：是指有权访问另一个函数作用域中的变量的函数;(摘自:**javascript高程**)


## 创建一个闭包
```js
function funA(a) {
  return function (b) {
    if(a>b) {
      return a - b;
    } else {
      return a + b;
    }
  }
}
const computed = funA(10);
const result = add(8);
```
这就是一个闭包,简单来说闭包形成的原因是:
> 由于funA函数的**局部变量a**无法正常被**回收(销毁)**
---
讲述具体原因之前我们先看一段代码:
```
  function sort(val1, val2) {
    if(val1 > val2) {
      return 1;
    } else if (val1 < val2) {
      return -1;
    } else {
      return 0;
    }
  }
  const result = sort(10, 11);
```
首先当一个函数被调用时会创建一个**执行环境及作用域链**，而后台的每个执行环境中都有一个表示变量的对象——**变量对象**，而全局环境中**变量对象**是始终存在的。
> 当我们创建sort()函数时，会创建一个预先包含全局对象的作用域链，这个作用域链被保存在sort()函数内部的[[Scope]]属性中。当我们调用sort()函数时，会先创建一个**执行环境**然通过复制函数的[[Scope]]属性中的对象构建**执行环境**的作用域链；然后，会有一个‘**活动对象（arguments、val1、val2）**被创建并且被推入**执行环境**作用域链的前端。对于这个例子而言sort()函数的执行环境有两个变量对象分别是：**本地活动对象和全局变量对象**。而sort()函数的作用域链本质上是一个指针指指向**全局变量对象的指针列表，而不会实际包含全局变量对象**;
